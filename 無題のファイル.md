

目的：カメラRAW（例：`.ARW` など）複数ファイルを入力として受け取り、**zip形式**で、**各zipの実サイズが300MB以下**になるように自動分割して圧縮し、出力するCLIツールを作る。メーカーごとのファイル名規則（Sony以外も）に対応できるよう、**命名規則・拡張子等は設定ファイルとして分離**する。

要件（コア挙動）：

* 入力：ファイルパスのリスト。対象拡張子は設定で定義し、大小文字は無視。
* 並び順：設定で定義された「ファイル名からの番号抽出ルール」に従い、抽出できたものを **番号（数値）昇順**で安定ソート。抽出不能なものは末尾に回す（安定ソート：フルパス辞書順など）。
* 分割・サイズ制約：
  * ソート順にファイルを詰めてzipを生成する。
  * **生成されたzipの実ファイルサイズが300MB以下であることを保証**する（推定ではなく、実際にzip生成→サイズ確認→超過時はそのグループのみ分割して作り直す）。
* 出力先：ユーザーが指定できる（例：`--out <dir>`）。衝突時は連番サフィックス等で回避。
* 命名（レンジ表記）：
  * zip名は「グループ内の最小番号〜最大番号」を用いたレンジ形式とする（形式は設定でテンプレ化）。
  * 数字部分の表記は **“そのzip（グループ）内で出現した数字文字列の最大桁数”に合わせて左ゼロ埋め**して揃える。
  * 抽出不能ファイルのみのzipは設定のフォールバック名（例：`UNKNOWN-UNKNOWN.zip`）でよい。
* 形式：zipのみ。
* 任意：`--dry-run`（分割計画と出力予定名のみ表示）。

設定ファイル（分離）：

* 形式：JSON または YAML（どちらかに統一）。
* 少なくとも以下を持つこと：
  * `profiles`: メーカー/命名規則プロファイルの配列（例：`sony_dsc`, `canon_img`, `nikon_dscn` など）
  * 各profileに含める項目：
    * `extensions`: 対象拡張子リスト（例：`["ARW"]`）
    * `pattern`: ファイル名から `prefix` と `number` を抽出する正規表現（少なくとも `number` グループ必須）
    * `case_insensitive`: true/false
    * `archive_name_template`: 例：`"{prefix}{min}-{prefix}{max}.zip"`（prefixが不要ならテンプレ側で調整可）
    * `unknown_archive_name`: 例：`"UNKNOWN-UNKNOWN.zip"`
    * `pad_with_group_max_width`: true（= グループ内最大桁数でゼロ埋め）
* CLIで `--config <path>` と `--profile <name>` を指定してルールを選べること。未指定時はデフォルトprofileを使う。

非要件：

* GUI不要。まずCLIとして成立させる（Finder/ショートカット連携は後回し）。
